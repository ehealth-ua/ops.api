searchNodes=[{"ref":"OPS.Rpc.html","title":"OPS.Rpc","module":"OPS.Rpc","type":"module","doc":"This module contains functions that are called from other pods via RPC."},{"ref":"OPS.Rpc.html#create_medication_dispense/1","title":"OPS.Rpc.create_medication_dispense/1","module":"OPS.Rpc","type":"function","doc":"Create medication dispense Examples iex&gt; OPS.Rpc.create_medication_dispense(%{ dispensed_at: ~D[2019-04-22], division_id: &quot;68da803d-5b38-4bdf-a461-a690a93f16a5&quot;, id: &quot;633518c9-ceba-4069-8719-cb5f4baf16aa&quot;, inserted_by: &quot;4d68ee39-685a-4419-b5a1-7ec23374d874&quot;, is_active: true, legal_entity_id: &quot;76844a95-623b-468b-975c-ed23ec66f1e9&quot;, medication_request_id: &quot;d71ec39d-bd30-4cf6-a8ed-5b741278b59f&quot;, party_id: &quot;cfc9c566-27c4-49fc-b0d4-41926d234c91&quot;, status: &quot;NEW&quot;, updated_by: &quot;ab3c8df7-9f65-4821-a421-fc843c6a8530&quot; }) {:ok, %{ details: [], dispensed_at: ~D[2019-04-22], dispensed_by: nil, division_id: &quot;68da803d-5b38-4bdf-a461-a690a93f16a5&quot;, id: &quot;633518c9-ceba-4069-8719-cb5f4baf16aa&quot;, inserted_at: #DateTime&lt;2019-04-22 07:24:05Z&gt;, inserted_by: &quot;4d68ee39-685a-4419-b5a1-7ec23374d874&quot;, is_active: true, legal_entity_id: &quot;76844a95-623b-468b-975c-ed23ec66f1e9&quot;, medical_program_id: nil, medication_request: nil, medication_request_id: &quot;d71ec39d-bd30-4cf6-a8ed-5b741278b59f&quot;, party_id: &quot;cfc9c566-27c4-49fc-b0d4-41926d234c91&quot;, payment_amount: nil, payment_id: nil, status: &quot;NEW&quot;, updated_at: #DateTime&lt;2019-04-22 07:24:05Z&gt;, updated_by: &quot;ab3c8df7-9f65-4821-a421-fc843c6a8530&quot; }}"},{"ref":"OPS.Rpc.html#create_medication_request/1","title":"OPS.Rpc.create_medication_request/1","module":"OPS.Rpc","type":"function","doc":"Create medication request Examples iex&gt; OPS.Rpc.create_medication_request(%{ created_at: ~D[2019-04-20], division_id: &quot;84ea121b-567c-4bb9-9145-910f89a6c1e4&quot;, employee_id: &quot;cd7fc613-c912-48ec-a5e8-3c96bd75766c&quot;, ended_at: ~D[2019-04-20], id: &quot;f3cd2f3f-e474-4d38-a1c8-cfb8e11d1ff2&quot;, inserted_by: &quot;a7b846c3-0f44-495b-ab95-1e88888ec3c9&quot;, legal_entity_id: &quot;b41e406c-85ef-4e6a-85ee-1819bd0f0533&quot;, medication_id: &quot;193a1c08-5ca2-436d-a258-e623c210e299&quot;, medication_qty: 20, medication_request_requests_id: &quot;7e17c562-bf5b-4367-89b5-b7dc2d9431f8&quot;, person_id: &quot;51320dc8-a583-4de6-8456-c3e2075d6c6b&quot;, request_number: &quot;1234&quot;, started_at: ~D[2019-04-20], updated_by: &quot;1ce4e44e-9f8b-4c57-9a44-63c410510bc3&quot; }) {:ok, %{ category: &quot;community&quot;, context: nil, created_at: ~D[2019-04-20], dispense_valid_from: nil, dispense_valid_to: nil, division_id: &quot;84ea121b-567c-4bb9-9145-910f89a6c1e4&quot;, dosage_instruction: nil, employee_id: &quot;cd7fc613-c912-48ec-a5e8-3c96bd75766c&quot;, ended_at: ~D[2019-04-20], id: &quot;f3cd2f3f-e474-4d38-a1c8-cfb8e11d1ff2&quot;, inserted_at: #DateTime&lt;2019-04-20 18:53:23Z&gt;, inserted_by: &quot;a7b846c3-0f44-495b-ab95-1e88888ec3c9&quot;, intent: &quot;order&quot;, is_active: true, legal_entity_id: &quot;b41e406c-85ef-4e6a-85ee-1819bd0f0533&quot;, medical_program_id: nil, medication_id: &quot;193a1c08-5ca2-436d-a258-e623c210e299&quot;, medication_qty: 20.0, medication_request_requests_id: &quot;7e17c562-bf5b-4367-89b5-b7dc2d9431f8&quot;, person_id: &quot;51320dc8-a583-4de6-8456-c3e2075d6c6b&quot;, reject_reason: nil, rejected_at: nil, rejected_by: nil, request_number: &quot;1234&quot;, started_at: ~D[2019-04-20], status: &quot;ACTIVE&quot;, updated_at: #DateTime&lt;2019-04-20 18:53:23Z&gt;, updated_by: &quot;1ce4e44e-9f8b-4c57-9a44-63c410510bc3&quot;, verification_code: nil }}"},{"ref":"OPS.Rpc.html#declarations_by_employees/2","title":"OPS.Rpc.declarations_by_employees/2","module":"OPS.Rpc","type":"function","doc":"Get declarations by list of employee ids Examples iex&gt; OPS.Rpc.declarations_by_employees([&quot;4671ab27-57f8-4c55-a618-a042a68c7add&quot;], [:legal_entity_id]) [%{legal_entity_id: &quot;43ec9534-2250-42bb-94ec-e0a7ad33afd3&quot;}]"},{"ref":"OPS.Rpc.html#doctor_medication_requests/1","title":"OPS.Rpc.doctor_medication_requests/1","module":"OPS.Rpc","type":"function","doc":"Search medication requests for doctor Examples iex&gt; OPS.Rpc.doctor_medication_requests(%{&quot;legal_entity_id&quot; =&gt; &quot;4d958f02-c2c3-4228-8ea3-ac4a7a7a286a&quot;}) %Scrivener.Page{ entries: [ %{ category: &quot;community&quot;, context: %{ &quot;identifier&quot; =&gt; %{ &quot;type&quot; =&gt; %{ &quot;coding&quot; =&gt; [ %{ &quot;code&quot; =&gt; &quot;encounter&quot;, &quot;system&quot; =&gt; &quot;eHealth/resources&quot; } ] }, &quot;value&quot; =&gt; &quot;b766941c-6cf0-42e2-888f-595a6658e1b4&quot; } }, created_at: ~D[2019-04-17], dispense_valid_from: ~D[2019-04-17], dispense_valid_to: ~D[2019-04-17], division_id: &quot;dc1fa9a2-46f1-4fcc-ae33-68c21f9c549a&quot;, dosage_instruction: [ %{ &quot;additional_instruction&quot; =&gt; [ %{ &quot;coding&quot; =&gt; [ %{ &quot;code&quot; =&gt; &quot;311504000&quot;, &quot;system&quot; =&gt; &quot;eHealth/SNOMED/additional_dosage_instructions&quot; } ] } ], &quot;as_needed_boolean&quot; =&gt; true, &quot;dose_and_rate&quot; =&gt; %{ &quot;dose_range&quot; =&gt; %{ &quot;high&quot; =&gt; %{ &quot;code&quot; =&gt; &quot;mg&quot;, &quot;comparator&quot; =&gt; &quot;&gt;&quot;, &quot;system&quot; =&gt; &quot;eHealth/units&quot;, &quot;unit&quot; =&gt; &quot;mg&quot;, &quot;value&quot; =&gt; 13 }, &quot;low&quot; =&gt; %{ &quot;code&quot; =&gt; &quot;mg&quot;, &quot;comparator&quot; =&gt; &quot;&gt;&quot;, &quot;system&quot; =&gt; &quot;eHealth/units&quot;, &quot;unit&quot; =&gt; &quot;mg&quot;, &quot;value&quot; =&gt; 13 } }, &quot;rate_ratio&quot; =&gt; %{ &quot;denominator&quot; =&gt; %{ &quot;code&quot; =&gt; &quot;mg&quot;, &quot;comparator&quot; =&gt; &quot;&gt;&quot;, &quot;system&quot; =&gt; &quot;eHealth/units&quot;, &quot;unit&quot; =&gt; &quot;mg&quot;, &quot;value&quot; =&gt; 13 }, &quot;numerator&quot; =&gt; %{ &quot;code&quot; =&gt; &quot;mg&quot;, &quot;comparator&quot; =&gt; &quot;&gt;&quot;, &quot;system&quot; =&gt; &quot;eHealth/units&quot;, &quot;unit&quot; =&gt; &quot;mg&quot;, &quot;value&quot; =&gt; 13 } }, &quot;type&quot; =&gt; %{ &quot;coding&quot; =&gt; [ %{ &quot;code&quot; =&gt; &quot;&#39;ordered&#39;&quot;, &quot;system&quot; =&gt; &quot;eHealth/dose_and_rate&quot; } ] } }, &quot;max_dose_per_administration&quot; =&gt; %{ &quot;code&quot; =&gt; &quot;mg&quot;, &quot;system&quot; =&gt; &quot;eHealth/units&quot;, &quot;unit&quot; =&gt; &quot;mg&quot;, &quot;value&quot; =&gt; 13 }, &quot;max_dose_per_lifetime&quot; =&gt; %{ &quot;code&quot; =&gt; &quot;mg&quot;, &quot;system&quot; =&gt; &quot;eHealth/units&quot;, &quot;unit&quot; =&gt; &quot;mg&quot;, &quot;value&quot; =&gt; 13 }, &quot;max_dose_per_period&quot; =&gt; %{ &quot;denominator&quot; =&gt; %{ &quot;code&quot; =&gt; &quot;mg&quot;, &quot;comparator&quot; =&gt; &quot;&gt;&quot;, &quot;system&quot; =&gt; &quot;eHealth/units&quot;, &quot;unit&quot; =&gt; &quot;mg&quot;, &quot;value&quot; =&gt; 13 }, &quot;numerator&quot; =&gt; %{ &quot;code&quot; =&gt; &quot;mg&quot;, &quot;comparator&quot; =&gt; &quot;&gt;&quot;, &quot;system&quot; =&gt; &quot;eHealth/units&quot;, &quot;unit&quot; =&gt; &quot;mg&quot;, &quot;value&quot; =&gt; 13 } }, &quot;method&quot; =&gt; %{ &quot;coding&quot; =&gt; [ %{ &quot;code&quot; =&gt; &quot;419747000&quot;, &quot;system&quot; =&gt; &quot;eHealth/SNOMED/administration_methods&quot; } ] }, &quot;patient_instruction&quot; =&gt; &quot;0.25mg PO every 6-12 hours as needed for menses from Jan 15-20, 2015. Do not exceed more than 4mg per day&quot;, &quot;route&quot; =&gt; %{ &quot;coding&quot; =&gt; [ %{ &quot;code&quot; =&gt; &quot;46713006&quot;, &quot;system&quot; =&gt; &quot;eHealth/SNOMED/route_codes&quot; } ] }, &quot;sequence&quot; =&gt; 1, &quot;site&quot; =&gt; %{ &quot;coding&quot; =&gt; [ %{ &quot;code&quot; =&gt; &quot;344001&quot;, &quot;system&quot; =&gt; &quot;eHealth/SNOMED/anatomical_structure_administration_site_codes&quot; } ] }, &quot;text&quot; =&gt; &quot;0.25mg PO every 6-12 hours as needed for menses from Jan 15-20, 2015. Do not exceed more than 4mg per day&quot;, &quot;timing&quot; =&gt; %{ &quot;code&quot; =&gt; %{ &quot;coding&quot; =&gt; [ %{ &quot;code&quot; =&gt; &quot;patient&quot;, &quot;system&quot; =&gt; &quot;eHealth/timing_abbreviation&quot; } ] }, &quot;event&quot; =&gt; [&quot;2017-04-20T19:14:13Z&quot;], &quot;repeat&quot; =&gt; %{ &quot;bounds_duration&quot; =&gt; %{ &quot;code&quot; =&gt; &quot;d&quot;, &quot;system&quot; =&gt; &quot;http://unitsofmeasure.org&quot;, &quot;unit&quot; =&gt; &quot;days&quot;, &quot;value&quot; =&gt; 10 }, &quot;count&quot; =&gt; 2, &quot;count_max&quot; =&gt; 4, &quot;day_of_week&quot; =&gt; [&quot;mon&quot;], &quot;duration&quot; =&gt; 4, &quot;duration_max&quot; =&gt; 6, &quot;duration_unit&quot; =&gt; &quot;d&quot;, &quot;frequency&quot; =&gt; 1, &quot;frequency_max&quot; =&gt; 2, &quot;offset&quot; =&gt; 4, &quot;period&quot; =&gt; 4, &quot;period_max&quot; =&gt; 6, &quot;period_unit&quot; =&gt; &quot;d&quot;, &quot;time_of_day&quot; =&gt; [&quot;2017-04-20T19:14:13Z&quot;], &quot;when&quot; =&gt; [&quot;WAKE&quot;] } } } ], employee_id: &quot;bed1bc93-ef2e-4ca0-9f07-e58f52b312c6&quot;, ended_at: ~D[2019-04-17], id: &quot;e9b4d92a-dc7c-483f-9ae9-f4b57bc89c4d&quot;, inserted_at: #DateTime&lt;2019-04-17 12:50:22Z&gt;, inserted_by: &quot;1630ef83-1b03-4d15-b03f-33f6b13a44b7&quot;, intent: &quot;order&quot;, is_active: true, legal_entity_id: &quot;4d958f02-c2c3-4228-8ea3-ac4a7a7a286a&quot;, medical_program_id: nil, medication_id: &quot;85e70454-6fd6-4a3d-8e5f-78fdf657d24b&quot;, medication_qty: 0.0, medication_request_requests_id: &quot;64878c2f-9960-4536-a92a-6f8571b0f4ed&quot;, person_id: &quot;13630bed-1a1c-4854-afaf-ff50cf5164d9&quot;, reject_reason: nil, rejected_at: nil, rejected_by: nil, request_number: &quot;0.7320575476812545&quot;, started_at: ~D[2019-04-17], status: &quot;ACTIVE&quot;, updated_at: #DateTime&lt;2019-04-17 12:50:22Z&gt;, updated_by: &quot;649ae8e4-eea3-46d5-b19f-747b9cdb2c39&quot;, verification_code: nil } ], page_number: 1, page_size: 50, total_entries: 1, total_pages: 1 }"},{"ref":"OPS.Rpc.html#get_declaration/1","title":"OPS.Rpc.get_declaration/1","module":"OPS.Rpc","type":"function","doc":"Get declaration by params Examples iex&gt; OPS.Rpc.get_declaration(id: &quot;0042500e-6ac0-45fb-b82a-25f7857c49a8&quot;) %{ id: &quot;cdb4a85b-f12c-46c6-b840-590467e26acf&quot;, created_by: &quot;738c8cc1-ae9b-42a5-8660-4b7612b2b35c&quot;, declaration_number: &quot;0&quot;, declaration_request_id: &quot;382cc67b-7ade-4905-b8a9-0dfe2e9b9da0&quot;, division_id: &quot;bb15bdde-ffd2-4683-8ca9-03c86b1e6846&quot;, employee_id: &quot;f8cc0822-f214-4eea-a7d4-d03142901eb1&quot;, end_date: ~D[2019-01-21], inserted_at: #DateTime&lt;2019-01-30 12:24:36.455175Z&gt;, is_active: true, legal_entity_id: &quot;980d4d01-3427-4f7f-bbdd-bd7c1b25b1e2&quot;, person_id: &quot;071a2783-f752-42d9-bcfc-44ddc7eb923d&quot;, reason: nil, reason_description: nil, scope: &quot;&quot;, signed_at: #DateTime&lt;2019-01-20 12:24:36.442837Z&gt;, start_date: ~D[2019-01-20], status: &quot;active&quot;, updated_at: #DateTime&lt;2019-01-30 12:24:36.455185Z&gt;, updated_by: &quot;8dac0fc6-04fd-4e62-9711-a85c0a42992d&quot; }"},{"ref":"OPS.Rpc.html#last_medication_request_dates/1","title":"OPS.Rpc.last_medication_request_dates/1","module":"OPS.Rpc","type":"function","doc":"Searches medication request by given parameters (string key map) with maximum ended_at field. Available parameters (all of them are required): ParameterTypeExampleDescription person_idUUID72b38c55-4fc9-4ab3-b656-1091af4c557c medication_idbinary (lists are represented as binary with comma-separated values)64841249-7e59-4dfd-93ae-9a48b0f70595 or 7ac0d860-0430-4df5-9d56-0c267b64dfac,486bf854-9bae-496b-be13-1eeec5d57fed medical_program_idUUIDc4b3bf60-8352-4454-a762-fc67847e3797 statusbinary (lists are represented as binary with comma-separated values)ACTIVE or ACTIVE,COMPLETED started_at_todate~D[2018-12-18]started_at attr less than started_at_to value Returns {:ok, %{&quot;started_at&quot; =&gt; Date.t(), &quot;ended_at&quot; =&gt; Date.t()} when medication request is found. {:ok, nil} when medication request is not found. {:error, Ecto.Changeset.t()} when search params are invalid. Examples iex&gt; OPS.Rpc.last_medication_request_dates(%{ &quot;person_id&quot; =&gt; &quot;4671ab27-57f8-4c55-a618-a042a68c7add&quot;, &quot;medication_id&quot; =&gt; &quot;43ec9534-2250-42bb-94ec-e0a7ad33afd3&quot;, &quot;medical_program_id&quot; =&gt; nil, &quot;status&quot; =&gt; &quot;ACTIVE&quot; }) {:ok, %{&quot;ended_at&quot; =&gt; ~D[2018-12-17], &quot;started_at&quot; =&gt; ~D[2018-12-17]}}"},{"ref":"OPS.Rpc.html#medication_dispenses/1","title":"OPS.Rpc.medication_dispenses/1","module":"OPS.Rpc","type":"function","doc":"Search medication dispenses Examples iex&gt; OPS.Rpc.medication_dispenses(%{&quot;legal_entity_id&quot; =&gt; &quot;805cfb96-625f-460a-879d-f225e58383ce&quot;}) %Scrivener.Page{ entries: [ %{ details: [], dispensed_at: ~D[2019-04-19], dispensed_by: &quot;John Doe2&quot;, division_id: &quot;c511b4fc-b6fa-45be-a2f7-4a9dff2423d0&quot;, id: &quot;e20909bb-1315-45ca-aa6c-ed3a62bb835c&quot;, inserted_at: #DateTime&lt;2019-04-19 06:47:01Z&gt;, inserted_by: &quot;9d977c83-5c6f-4b3a-9bd5-fc102359ba3b&quot;, is_active: true, legal_entity_id: &quot;805cfb96-625f-460a-879d-f225e58383ce&quot;, medical_program_id: &quot;4d4b8abe-3677-44b5-90fd-3f7bcdf37ead&quot;, medication_request: %{ category: &quot;community&quot;, context: %{ &quot;identifier&quot; =&gt; %{ &quot;type&quot; =&gt; %{ &quot;coding&quot; =&gt; [ %{&quot;code&quot; =&gt; &quot;encounter&quot;, &quot;system&quot; =&gt; &quot;eHealth/resources&quot;} ] }, &quot;value&quot; =&gt; &quot;9c10cd7d-141d-41c7-9098-e9b3dfe31648&quot; } }, created_at: ~D[2019-04-19], dispense_valid_from: ~D[2019-04-19], dispense_valid_to: ~D[2019-04-19], division_id: &quot;ecd03416-f31a-44fc-86b7-46b35a325dc5&quot;, dosage_instruction: [ %{ &quot;additional_instruction&quot; =&gt; [ %{ &quot;coding&quot; =&gt; [ %{ &quot;code&quot; =&gt; &quot;311504000&quot;, &quot;system&quot; =&gt; &quot;eHealth/SNOMED/additional_dosage_instructions&quot; } ] } ], &quot;as_needed_boolean&quot; =&gt; true, &quot;dose_and_rate&quot; =&gt; %{ &quot;dose_range&quot; =&gt; %{ &quot;high&quot; =&gt; %{ &quot;code&quot; =&gt; &quot;mg&quot;, &quot;comparator&quot; =&gt; &quot;&gt;&quot;, &quot;system&quot; =&gt; &quot;eHealth/units&quot;, &quot;unit&quot; =&gt; &quot;mg&quot;, &quot;value&quot; =&gt; 13 }, &quot;low&quot; =&gt; %{ &quot;code&quot; =&gt; &quot;mg&quot;, &quot;comparator&quot; =&gt; &quot;&gt;&quot;, &quot;system&quot; =&gt; &quot;eHealth/units&quot;, &quot;unit&quot; =&gt; &quot;mg&quot;, &quot;value&quot; =&gt; 13 } }, &quot;rate_ratio&quot; =&gt; %{ &quot;denominator&quot; =&gt; %{ &quot;code&quot; =&gt; &quot;mg&quot;, &quot;comparator&quot; =&gt; &quot;&gt;&quot;, &quot;system&quot; =&gt; &quot;eHealth/units&quot;, &quot;unit&quot; =&gt; &quot;mg&quot;, &quot;value&quot; =&gt; 13 }, &quot;numerator&quot; =&gt; %{ &quot;code&quot; =&gt; &quot;mg&quot;, &quot;comparator&quot; =&gt; &quot;&gt;&quot;, &quot;system&quot; =&gt; &quot;eHealth/units&quot;, &quot;unit&quot; =&gt; &quot;mg&quot;, &quot;value&quot; =&gt; 13 } }, &quot;type&quot; =&gt; %{ &quot;coding&quot; =&gt; [ %{&quot;code&quot; =&gt; &quot;&#39;ordered&#39;&quot;, &quot;system&quot; =&gt; &quot;eHealth/dose_and_rate&quot;} ] } }, &quot;max_dose_per_administration&quot; =&gt; %{ &quot;code&quot; =&gt; &quot;mg&quot;, &quot;system&quot; =&gt; &quot;eHealth/units&quot;, &quot;unit&quot; =&gt; &quot;mg&quot;, &quot;value&quot; =&gt; 13 }, &quot;max_dose_per_lifetime&quot; =&gt; %{ &quot;code&quot; =&gt; &quot;mg&quot;, &quot;system&quot; =&gt; &quot;eHealth/units&quot;, &quot;unit&quot; =&gt; &quot;mg&quot;, &quot;value&quot; =&gt; 13 }, &quot;max_dose_per_period&quot; =&gt; %{ &quot;denominator&quot; =&gt; %{ &quot;code&quot; =&gt; &quot;mg&quot;, &quot;comparator&quot; =&gt; &quot;&gt;&quot;, &quot;system&quot; =&gt; &quot;eHealth/units&quot;, &quot;unit&quot; =&gt; &quot;mg&quot;, &quot;value&quot; =&gt; 13 }, &quot;numerator&quot; =&gt; %{ &quot;code&quot; =&gt; &quot;mg&quot;, &quot;comparator&quot; =&gt; &quot;&gt;&quot;, &quot;system&quot; =&gt; &quot;eHealth/units&quot;, &quot;unit&quot; =&gt; &quot;mg&quot;, &quot;value&quot; =&gt; 13 } }, &quot;method&quot; =&gt; %{ &quot;coding&quot; =&gt; [ %{ &quot;code&quot; =&gt; &quot;419747000&quot;, &quot;system&quot; =&gt; &quot;eHealth/SNOMED/administration_methods&quot; } ] }, &quot;patient_instruction&quot; =&gt; &quot;0.25mg PO every 6-12 hours as needed for menses from Jan 15-20, 2015. Do not exceed more than 4mg per day&quot;, &quot;route&quot; =&gt; %{ &quot;coding&quot; =&gt; [ %{ &quot;code&quot; =&gt; &quot;46713006&quot;, &quot;system&quot; =&gt; &quot;eHealth/SNOMED/route_codes&quot; } ] }, &quot;sequence&quot; =&gt; 1, &quot;site&quot; =&gt; %{ &quot;coding&quot; =&gt; [ %{ &quot;code&quot; =&gt; &quot;344001&quot;, &quot;system&quot; =&gt; &quot;eHealth/SNOMED/anatomical_structure_administration_site_codes&quot; } ] }, &quot;text&quot; =&gt; &quot;0.25mg PO every 6-12 hours as needed for menses from Jan 15-20, 2015. Do not exceed more than 4mg per day&quot;, &quot;timing&quot; =&gt; %{ &quot;code&quot; =&gt; %{ &quot;coding&quot; =&gt; [ %{ &quot;code&quot; =&gt; &quot;patient&quot;, &quot;system&quot; =&gt; &quot;eHealth/timing_abbreviation&quot; } ] }, &quot;event&quot; =&gt; [&quot;2017-04-20T19:14:13Z&quot;], &quot;repeat&quot; =&gt; %{ &quot;bounds_duration&quot; =&gt; %{ &quot;code&quot; =&gt; &quot;d&quot;, &quot;system&quot; =&gt; &quot;http://unitsofmeasure.org&quot;, &quot;unit&quot; =&gt; &quot;days&quot;, &quot;value&quot; =&gt; 10 }, &quot;count&quot; =&gt; 2, &quot;count_max&quot; =&gt; 4, &quot;day_of_week&quot; =&gt; [&quot;mon&quot;], &quot;duration&quot; =&gt; 4, &quot;duration_max&quot; =&gt; 6, &quot;duration_unit&quot; =&gt; &quot;d&quot;, &quot;frequency&quot; =&gt; 1, &quot;frequency_max&quot; =&gt; 2, &quot;offset&quot; =&gt; 4, &quot;period&quot; =&gt; 4, &quot;period_max&quot; =&gt; 6, &quot;period_unit&quot; =&gt; &quot;d&quot;, ... } } } ], employee_id: &quot;67956476-e6dd-4f05-92ed-3857771b574d&quot;, ended_at: ~D[2019-04-19], id: &quot;c6de8e9a-ff3c-4428-9615-7249e87119d0&quot;, inserted_at: #DateTime&lt;2019-04-19 06:47:01Z&gt;, inserted_by: &quot;4ff0a378-c83c-46cb-ba07-59902cc08042&quot;, intent: &quot;order&quot;, is_active: true, legal_entity_id: &quot;28e9f738-123c-4432-9638-f50b87f90b28&quot;, medical_program_id: nil, medication_id: &quot;7a2c59fb-053e-4dcd-a714-2e4310396da5&quot;, medication_qty: 0.0, medication_request_requests_id: &quot;e422f9b4-195d-4751-938f-280d120803fb&quot;, person_id: &quot;7da225ef-740e-4926-b3e6-f0276efdad07&quot;, reject_reason: nil, rejected_at: nil, rejected_by: nil, request_number: &quot;0.3460077299229586&quot;, started_at: ~D[2019-04-19], status: &quot;ACTIVE&quot;, updated_at: #DateTime&lt;2019-04-19 06:47:01Z&gt;, updated_by: &quot;40848a8b-5f05-4100-9e9c-27b343891e0d&quot;, verification_code: nil }, medication_request_id: &quot;c6de8e9a-ff3c-4428-9615-7249e87119d0&quot;, party_id: &quot;ecc396ff-df3a-4999-804d-5c920207a824&quot;, payment_amount: nil, payment_id: &quot;19955648-75e7-4ad4-a9ef-51d285b3365d&quot;, status: &quot;NEW&quot;, updated_at: #DateTime&lt;2019-04-19 06:47:01Z&gt;, updated_by: &quot;885b6153-bf79-465b-910a-53a257838712&quot; } ], page_number: 1, page_size: 50, total_entries: 1, total_pages: 1 }"},{"ref":"OPS.Rpc.html#medication_request_by_id/1","title":"OPS.Rpc.medication_request_by_id/1","module":"OPS.Rpc","type":"function","doc":"Get medication request by id Examples iex&gt; OPS.Rpc.medication_request_by_id(&quot;0469f379-ff2e-4a69-81e8-2cbfadf88d6b&quot;) %{ category: &quot;community&quot;, context: %{ &quot;identifier&quot; =&gt; %{ &quot;type&quot; =&gt; %{ &quot;coding&quot; =&gt; [%{&quot;code&quot; =&gt; &quot;encounter&quot;, &quot;system&quot; =&gt; &quot;eHealth/resources&quot;}] }, &quot;value&quot; =&gt; &quot;e3e2a3cc-388a-4555-9e16-a51ccb109724&quot; } }, created_at: ~D[2019-02-05], dispense_valid_from: ~D[2019-02-05], dispense_valid_to: ~D[2019-02-08], division_id: &quot;406e4831-db4d-45a8-a26f-a246172705f5&quot;, dosage_instruction: [ %{ &quot;additional_instruction&quot; =&gt; [ %{ &quot;coding&quot; =&gt; [ %{ &quot;code&quot; =&gt; &quot;311504000&quot;, &quot;system&quot; =&gt; &quot;eHealth/SNOMED/additional_dosage_instructions&quot; } ] } ], &quot;as_needed_boolean&quot; =&gt; true, &quot;dose_and_rate&quot; =&gt; %{ &quot;dose_range&quot; =&gt; %{ &quot;high&quot; =&gt; %{ &quot;code&quot; =&gt; &quot;mg&quot;, &quot;system&quot; =&gt; &quot;eHealth/ucum/units&quot;, &quot;unit&quot; =&gt; &quot;mg&quot;, &quot;value&quot; =&gt; 13 }, &quot;low&quot; =&gt; %{ &quot;code&quot; =&gt; &quot;mg&quot;, &quot;system&quot; =&gt; &quot;eHealth/ucum/units&quot;, &quot;unit&quot; =&gt; &quot;mg&quot;, &quot;value&quot; =&gt; 13 } }, &quot;rate_ratio&quot; =&gt; %{ &quot;denominator&quot; =&gt; %{ &quot;code&quot; =&gt; &quot;mg&quot;, &quot;system&quot; =&gt; &quot;eHealth/ucum/units&quot;, &quot;unit&quot; =&gt; &quot;mg&quot;, &quot;value&quot; =&gt; 13 }, &quot;numerator&quot; =&gt; %{ &quot;code&quot; =&gt; &quot;mg&quot;, &quot;system&quot; =&gt; &quot;eHealth/ucum/units&quot;, &quot;unit&quot; =&gt; &quot;mg&quot;, &quot;value&quot; =&gt; 13 } }, &quot;type&quot; =&gt; %{ &quot;coding&quot; =&gt; [ %{&quot;code&quot; =&gt; &quot;ordered&quot;, &quot;system&quot; =&gt; &quot;eHealth/dose_and_rate&quot;} ] } }, &quot;max_dose_per_administration&quot; =&gt; %{ &quot;code&quot; =&gt; &quot;mg&quot;, &quot;system&quot; =&gt; &quot;eHealth/ucum/units&quot;, &quot;unit&quot; =&gt; &quot;mg&quot;, &quot;value&quot; =&gt; 13 }, &quot;max_dose_per_lifetime&quot; =&gt; %{ &quot;code&quot; =&gt; &quot;mg&quot;, &quot;system&quot; =&gt; &quot;eHealth/ucum/units&quot;, &quot;unit&quot; =&gt; &quot;mg&quot;, &quot;value&quot; =&gt; 13 }, &quot;max_dose_per_period&quot; =&gt; %{ &quot;denominator&quot; =&gt; %{ &quot;code&quot; =&gt; &quot;mg&quot;, &quot;system&quot; =&gt; &quot;eHealth/ucum/units&quot;, &quot;unit&quot; =&gt; &quot;mg&quot;, &quot;value&quot; =&gt; 13 }, &quot;numerator&quot; =&gt; %{ &quot;code&quot; =&gt; &quot;mg&quot;, &quot;system&quot; =&gt; &quot;eHealth/ucum/units&quot;, &quot;unit&quot; =&gt; &quot;mg&quot;, &quot;value&quot; =&gt; 13 } }, &quot;method&quot; =&gt; %{ &quot;coding&quot; =&gt; [ %{ &quot;code&quot; =&gt; &quot;419747000&quot;, &quot;system&quot; =&gt; &quot;eHealth/SNOMED/administration_methods&quot; } ] }, &quot;patient_instruction&quot; =&gt; &quot;0.25mg PO every 6-12 hours as needed for menses from Jan 15-20, 2015. Do not exceed more than 4mg per day&quot;, &quot;route&quot; =&gt; %{ &quot;coding&quot; =&gt; [ %{&quot;code&quot; =&gt; &quot;46713006&quot;, &quot;system&quot; =&gt; &quot;eHealth/SNOMED/route_codes&quot;} ] }, &quot;sequence&quot; =&gt; 1, &quot;site&quot; =&gt; %{ &quot;coding&quot; =&gt; [ %{ &quot;code&quot; =&gt; &quot;344001&quot;, &quot;system&quot; =&gt; &quot;eHealth/SNOMED/anatomical_structure_administration_site_codes&quot; } ] }, &quot;text&quot; =&gt; &quot;0.25mg PO every 6-12 hours as needed for menses from Jan 15-20, 2015. Do not exceed more than 4mg per day&quot;, &quot;timing&quot; =&gt; %{ &quot;code&quot; =&gt; %{ &quot;coding&quot; =&gt; [%{&quot;code&quot; =&gt; &quot;AM&quot;, &quot;system&quot; =&gt; &quot;TIMING_ABBREVIATION&quot;}] }, &quot;event&quot; =&gt; [&quot;2017-04-20T19:14:13Z&quot;], &quot;repeat&quot; =&gt; %{ &quot;bounds_duration&quot; =&gt; %{ &quot;code&quot; =&gt; &quot;d&quot;, &quot;system&quot; =&gt; &quot;eHealth/ucum/units&quot;, &quot;unit&quot; =&gt; &quot;days&quot;, &quot;value&quot; =&gt; 10 }, &quot;count&quot; =&gt; 2, &quot;count_max&quot; =&gt; 4, &quot;day_of_week&quot; =&gt; [&quot;mon&quot;], &quot;duration&quot; =&gt; 4, &quot;duration_max&quot; =&gt; 6, &quot;duration_unit&quot; =&gt; &quot;d&quot;, &quot;frequency&quot; =&gt; 1, &quot;frequency_max&quot; =&gt; 2, &quot;offset&quot; =&gt; 4, &quot;period&quot; =&gt; 4, &quot;period_max&quot; =&gt; 6, &quot;period_unit&quot; =&gt; &quot;d&quot;, &quot;time_of_day&quot; =&gt; [&quot;2017-04-20T19:14:13Z&quot;], &quot;when&quot; =&gt; [&quot;WAKE&quot;] } } } ], employee_id: &quot;43606f23-8a18-4902-93c4-0856cb2390ae&quot;, ended_at: ~D[2019-02-08], id: &quot;0469f379-ff2e-4a69-81e8-2cbfadf88d6b&quot;, inserted_at: ~N[2019-02-05 11:29:57.064635], inserted_by: &quot;34531e8a-ff95-4329-8de6-8c7bb9cb94a3&quot;, intent: &quot;order&quot;, is_active: true, legal_entity_id: &quot;be484454-c92e-4a1e-98ec-e1149b6c6bc3&quot;, medical_program_id: &quot;f088cc19-ac1d-49fb-a95c-e659914960d9&quot;, medication_id: &quot;7b8f8f3c-ce67-4b64-89b3-e0d31d0a1a2e&quot;, medication_qty: 10.0, medication_request_requests_id: &quot;3dcaf3ee-6469-483f-bacd-befbf74716b8&quot;, person_id: &quot;09564c9f-f4ef-4b8a-85c7-08ec48e5e562&quot;, reject_reason: &quot;Помилка призначення. Несумісні препарати.&quot;, rejected_at: ~D[2019-02-08], rejected_by: &quot;fb6c877f-1ed9-4589-b00a-023c69f8fca0&quot;, request_number: &quot;0000-X2HA-157X-0214&quot;, started_at: ~D[2019-02-05], status: &quot;EXPIRED&quot;, updated_at: ~N[2019-02-05 09:35:00.027131], updated_by: &quot;4261eacf-8008-4e62-899f-de1e2f7065f0&quot;, verification_code: &quot;7291&quot; }"},{"ref":"OPS.Rpc.html#medication_requests/1","title":"OPS.Rpc.medication_requests/1","module":"OPS.Rpc","type":"function","doc":"Search requests for doctor Examples iex&gt; OPS.Rpc.medication_requests(%{&quot;legal_entity_id&quot; =&gt; &quot;4d958f02-c2c3-4228-8ea3-ac4a7a7a286a&quot;}) %Scrivener.Page{ entries: [ %{ category: &quot;community&quot;, context: %{ &quot;identifier&quot; =&gt; %{ &quot;type&quot; =&gt; %{ &quot;coding&quot; =&gt; [ %{ &quot;code&quot; =&gt; &quot;encounter&quot;, &quot;system&quot; =&gt; &quot;eHealth/resources&quot; } ] }, &quot;value&quot; =&gt; &quot;b766941c-6cf0-42e2-888f-595a6658e1b4&quot; } }, created_at: ~D[2019-04-17], dispense_valid_from: ~D[2019-04-17], dispense_valid_to: ~D[2019-04-17], division_id: &quot;dc1fa9a2-46f1-4fcc-ae33-68c21f9c549a&quot;, dosage_instruction: [ %{ &quot;additional_instruction&quot; =&gt; [ %{ &quot;coding&quot; =&gt; [ %{ &quot;code&quot; =&gt; &quot;311504000&quot;, &quot;system&quot; =&gt; &quot;eHealth/SNOMED/additional_dosage_instructions&quot; } ] } ], &quot;as_needed_boolean&quot; =&gt; true, &quot;dose_and_rate&quot; =&gt; %{ &quot;dose_range&quot; =&gt; %{ &quot;high&quot; =&gt; %{ &quot;code&quot; =&gt; &quot;mg&quot;, &quot;comparator&quot; =&gt; &quot;&gt;&quot;, &quot;system&quot; =&gt; &quot;eHealth/units&quot;, &quot;unit&quot; =&gt; &quot;mg&quot;, &quot;value&quot; =&gt; 13 }, &quot;low&quot; =&gt; %{ &quot;code&quot; =&gt; &quot;mg&quot;, &quot;comparator&quot; =&gt; &quot;&gt;&quot;, &quot;system&quot; =&gt; &quot;eHealth/units&quot;, &quot;unit&quot; =&gt; &quot;mg&quot;, &quot;value&quot; =&gt; 13 } }, &quot;rate_ratio&quot; =&gt; %{ &quot;denominator&quot; =&gt; %{ &quot;code&quot; =&gt; &quot;mg&quot;, &quot;comparator&quot; =&gt; &quot;&gt;&quot;, &quot;system&quot; =&gt; &quot;eHealth/units&quot;, &quot;unit&quot; =&gt; &quot;mg&quot;, &quot;value&quot; =&gt; 13 }, &quot;numerator&quot; =&gt; %{ &quot;code&quot; =&gt; &quot;mg&quot;, &quot;comparator&quot; =&gt; &quot;&gt;&quot;, &quot;system&quot; =&gt; &quot;eHealth/units&quot;, &quot;unit&quot; =&gt; &quot;mg&quot;, &quot;value&quot; =&gt; 13 } }, &quot;type&quot; =&gt; %{ &quot;coding&quot; =&gt; [ %{ &quot;code&quot; =&gt; &quot;&#39;ordered&#39;&quot;, &quot;system&quot; =&gt; &quot;eHealth/dose_and_rate&quot; } ] } }, &quot;max_dose_per_administration&quot; =&gt; %{ &quot;code&quot; =&gt; &quot;mg&quot;, &quot;system&quot; =&gt; &quot;eHealth/units&quot;, &quot;unit&quot; =&gt; &quot;mg&quot;, &quot;value&quot; =&gt; 13 }, &quot;max_dose_per_lifetime&quot; =&gt; %{ &quot;code&quot; =&gt; &quot;mg&quot;, &quot;system&quot; =&gt; &quot;eHealth/units&quot;, &quot;unit&quot; =&gt; &quot;mg&quot;, &quot;value&quot; =&gt; 13 }, &quot;max_dose_per_period&quot; =&gt; %{ &quot;denominator&quot; =&gt; %{ &quot;code&quot; =&gt; &quot;mg&quot;, &quot;comparator&quot; =&gt; &quot;&gt;&quot;, &quot;system&quot; =&gt; &quot;eHealth/units&quot;, &quot;unit&quot; =&gt; &quot;mg&quot;, &quot;value&quot; =&gt; 13 }, &quot;numerator&quot; =&gt; %{ &quot;code&quot; =&gt; &quot;mg&quot;, &quot;comparator&quot; =&gt; &quot;&gt;&quot;, &quot;system&quot; =&gt; &quot;eHealth/units&quot;, &quot;unit&quot; =&gt; &quot;mg&quot;, &quot;value&quot; =&gt; 13 } }, &quot;method&quot; =&gt; %{ &quot;coding&quot; =&gt; [ %{ &quot;code&quot; =&gt; &quot;419747000&quot;, &quot;system&quot; =&gt; &quot;eHealth/SNOMED/administration_methods&quot; } ] }, &quot;patient_instruction&quot; =&gt; &quot;0.25mg PO every 6-12 hours as needed for menses from Jan 15-20, 2015. Do not exceed more than 4mg per day&quot;, &quot;route&quot; =&gt; %{ &quot;coding&quot; =&gt; [ %{ &quot;code&quot; =&gt; &quot;46713006&quot;, &quot;system&quot; =&gt; &quot;eHealth/SNOMED/route_codes&quot; } ] }, &quot;sequence&quot; =&gt; 1, &quot;site&quot; =&gt; %{ &quot;coding&quot; =&gt; [ %{ &quot;code&quot; =&gt; &quot;344001&quot;, &quot;system&quot; =&gt; &quot;eHealth/SNOMED/anatomical_structure_administration_site_codes&quot; } ] }, &quot;text&quot; =&gt; &quot;0.25mg PO every 6-12 hours as needed for menses from Jan 15-20, 2015. Do not exceed more than 4mg per day&quot;, &quot;timing&quot; =&gt; %{ &quot;code&quot; =&gt; %{ &quot;coding&quot; =&gt; [ %{ &quot;code&quot; =&gt; &quot;patient&quot;, &quot;system&quot; =&gt; &quot;eHealth/timing_abbreviation&quot; } ] }, &quot;event&quot; =&gt; [&quot;2017-04-20T19:14:13Z&quot;], &quot;repeat&quot; =&gt; %{ &quot;bounds_duration&quot; =&gt; %{ &quot;code&quot; =&gt; &quot;d&quot;, &quot;system&quot; =&gt; &quot;http://unitsofmeasure.org&quot;, &quot;unit&quot; =&gt; &quot;days&quot;, &quot;value&quot; =&gt; 10 }, &quot;count&quot; =&gt; 2, &quot;count_max&quot; =&gt; 4, &quot;day_of_week&quot; =&gt; [&quot;mon&quot;], &quot;duration&quot; =&gt; 4, &quot;duration_max&quot; =&gt; 6, &quot;duration_unit&quot; =&gt; &quot;d&quot;, &quot;frequency&quot; =&gt; 1, &quot;frequency_max&quot; =&gt; 2, &quot;offset&quot; =&gt; 4, &quot;period&quot; =&gt; 4, &quot;period_max&quot; =&gt; 6, &quot;period_unit&quot; =&gt; &quot;d&quot;, &quot;time_of_day&quot; =&gt; [&quot;2017-04-20T19:14:13Z&quot;], &quot;when&quot; =&gt; [&quot;WAKE&quot;] } } } ], employee_id: &quot;bed1bc93-ef2e-4ca0-9f07-e58f52b312c6&quot;, ended_at: ~D[2019-04-17], id: &quot;e9b4d92a-dc7c-483f-9ae9-f4b57bc89c4d&quot;, inserted_at: #DateTime&lt;2019-04-17 12:50:22Z&gt;, inserted_by: &quot;1630ef83-1b03-4d15-b03f-33f6b13a44b7&quot;, intent: &quot;order&quot;, is_active: true, legal_entity_id: &quot;4d958f02-c2c3-4228-8ea3-ac4a7a7a286a&quot;, medical_program_id: nil, medication_id: &quot;85e70454-6fd6-4a3d-8e5f-78fdf657d24b&quot;, medication_qty: 0.0, medication_request_requests_id: &quot;64878c2f-9960-4536-a92a-6f8571b0f4ed&quot;, person_id: &quot;13630bed-1a1c-4854-afaf-ff50cf5164d9&quot;, reject_reason: nil, rejected_at: nil, rejected_by: nil, request_number: &quot;0.7320575476812545&quot;, started_at: ~D[2019-04-17], status: &quot;ACTIVE&quot;, updated_at: #DateTime&lt;2019-04-17 12:50:22Z&gt;, updated_by: &quot;649ae8e4-eea3-46d5-b19f-747b9cdb2c39&quot;, verification_code: nil } ], page_number: 1, page_size: 50, total_entries: 1, total_pages: 1 }"},{"ref":"OPS.Rpc.html#prequalify_medication_requests/1","title":"OPS.Rpc.prequalify_medication_requests/1","module":"OPS.Rpc","type":"function","doc":"Get medication request prequalified medication ids by patient_id, started_at, ended_at Examples iex&gt; OPS.Rpc.prequalify_medication_requests(%{ &quot;ended_at&quot; =&gt; ~D[2019-04-25], &quot;person_id&quot; =&gt; &quot;ad3402eb-2caa-45a3-b96e-fe837b21f767&quot;, &quot;started_at&quot; =&gt; ~D[2019-04-20] }) {:ok, [&quot;5327b993-071d-49b1-b04f-8cb0401e49de&quot;]}"},{"ref":"OPS.Rpc.html#qualify_medication_requests/1","title":"OPS.Rpc.qualify_medication_requests/1","module":"OPS.Rpc","type":"function","doc":"Get medication request qualified medication ids by patient_id, started_at, ended_at Examples iex&gt; OPS.Rpc.qualify_medication_requests(%{ &quot;ended_at&quot; =&gt; ~D[2019-04-25], &quot;person_id&quot; =&gt; &quot;ad3402eb-2caa-45a3-b96e-fe837b21f767&quot;, &quot;started_at&quot; =&gt; ~D[2019-04-20] }) {:ok, [&quot;5327b993-071d-49b1-b04f-8cb0401e49de&quot;]}"},{"ref":"OPS.Rpc.html#search_declarations/3","title":"OPS.Rpc.search_declarations/3","module":"OPS.Rpc","type":"function","doc":"Get declarations by filter Check avaiable formats for filter here https://github.com/edenlabllc/ecto_filter Available parameters: ParameterTypeExampleDescription filterlist[{:reason, :equal, &quot;no_tax_id&quot;}]Required. Uses filtering format order_bylist[asc: :inserted_at] or [desc: :status] cursor{integer, integer} or nil{0, 10} Examples iex&gt; OPS.Rpc.search_declarations([{:person_id, :in, [&quot;0042500e-6ac0-45fb-b82a-25f7857c49a8&quot;]}], [start_date: :asc], {0, 10}) {:ok, [ %{ id: &quot;cdb4a85b-f12c-46c6-b840-590467e26acf&quot;, created_by: &quot;738c8cc1-ae9b-42a5-8660-4b7612b2b35c&quot;, declaration_number: &quot;0&quot;, declaration_request_id: &quot;382cc67b-7ade-4905-b8a9-0dfe2e9b9da0&quot;, division_id: &quot;bb15bdde-ffd2-4683-8ca9-03c86b1e6846&quot;, employee_id: &quot;f8cc0822-f214-4eea-a7d4-d03142901eb1&quot;, end_date: ~D[2019-01-21], inserted_at: #DateTime&lt;2019-01-30 12:24:36.455175Z&gt;, is_active: true, legal_entity_id: &quot;980d4d01-3427-4f7f-bbdd-bd7c1b25b1e2&quot;, person_id: &quot;071a2783-f752-42d9-bcfc-44ddc7eb923d&quot;, reason: nil, reason_description: nil, scope: &quot;&quot;, signed_at: #DateTime&lt;2019-01-20 12:24:36.442837Z&gt;, start_date: ~D[2019-01-20], status: &quot;active&quot;, updated_at: #DateTime&lt;2019-01-30 12:24:36.455185Z&gt;, updated_by: &quot;8dac0fc6-04fd-4e62-9711-a85c0a42992d&quot; } ]}"},{"ref":"OPS.Rpc.html#terminate_declaration/2","title":"OPS.Rpc.terminate_declaration/2","module":"OPS.Rpc","type":"function","doc":"Terminate declaration Available parameters: ParameterTypeExampleDescription updated_byUUID72b38c55-4fc9-4ab3-b656-1091af4c557cRequired statusbinaryactiveRequired reasonbinarymanual_personRequired reason_descriptionbinaryPerson died Examples iex&gt; OPS.Rpc.terminate_declaration(&quot;0042500e-6ac0-45fb-b82a-25f7857c49a8&quot;, %{&quot;updated_by&quot; =&gt; &quot;11225aae-7ac0-45fb-b82a-25f7857c49b0&quot;}) {:ok, %{ id: &quot;cdb4a85b-f12c-46c6-b840-590467e26acf&quot;, created_by: &quot;738c8cc1-ae9b-42a5-8660-4b7612b2b35c&quot;, declaration_number: &quot;0&quot;, declaration_request_id: &quot;382cc67b-7ade-4905-b8a9-0dfe2e9b9da0&quot;, division_id: &quot;bb15bdde-ffd2-4683-8ca9-03c86b1e6846&quot;, employee_id: &quot;f8cc0822-f214-4eea-a7d4-d03142901eb1&quot;, end_date: ~D[2019-01-21], inserted_at: #DateTime&lt;2019-01-30 12:24:36.455175Z&gt;, is_active: true, legal_entity_id: &quot;980d4d01-3427-4f7f-bbdd-bd7c1b25b1e2&quot;, person_id: &quot;071a2783-f752-42d9-bcfc-44ddc7eb923d&quot;, reason: nil, reason_description: nil, scope: &quot;&quot;, signed_at: #DateTime&lt;2019-01-20 12:24:36.442837Z&gt;, start_date: ~D[2019-01-20], status: &quot;active&quot;, updated_at: #DateTime&lt;2019-01-30 12:24:36.455185Z&gt;, updated_by: &quot;8dac0fc6-04fd-4e62-9711-a85c0a42992d&quot; } }"},{"ref":"OPS.Rpc.html#update_declaration/2","title":"OPS.Rpc.update_declaration/2","module":"OPS.Rpc","type":"function","doc":"Update declaration Available parameters: ParameterTypeExampleDescription updated_byUUID72b38c55-4fc9-4ab3-b656-1091af4c557cRequired employee_idUUIDdfe13714-92ed-448b-90d2-cccb8640948a person_idUUIDfba89efe-0cad-4c11-ad1f-d0cdce26b03a start_dateDate or binary~D[2015-10-10] or 2015-10-10 end_dateDate or binary~D[2030-10-10] or 2030-10-10 signed_atDateTime or binary2019-01-30 12:20:51 statusbinaryactive created_byUUID99a604f9-c319-4d93-a802-a5798d8efdf7 updated_byUUID99a604f9-c319-4d93-a802-a5798d8efdf7 is_activebooleantrue scopebinaryfamily_doctor division_idUUIDe217193a-e46b-49d9-9a66-79926abfefe8 legal_entity_idUUIDb5b30e2c-e347-49ba-a4e4-a52eaa057463 declaration_request_idUUIDcc3efcde-16b0-45a4-b0b8-f278d7b3c9ca Examples iex&gt; OPS.Rpc.update_declaration(&quot;0042500e-6ac0-45fb-b82a-25f7857c49a8&quot;, %{&quot;status&quot; =&gt; &quot;active&quot;}) {:ok, %{ id: &quot;cdb4a85b-f12c-46c6-b840-590467e26acf&quot;, created_by: &quot;738c8cc1-ae9b-42a5-8660-4b7612b2b35c&quot;, declaration_number: &quot;0&quot;, declaration_request_id: &quot;382cc67b-7ade-4905-b8a9-0dfe2e9b9da0&quot;, division_id: &quot;bb15bdde-ffd2-4683-8ca9-03c86b1e6846&quot;, employee_id: &quot;f8cc0822-f214-4eea-a7d4-d03142901eb1&quot;, end_date: ~D[2019-01-21], inserted_at: #DateTime&lt;2019-01-30 12:24:36.455175Z&gt;, is_active: true, legal_entity_id: &quot;980d4d01-3427-4f7f-bbdd-bd7c1b25b1e2&quot;, person_id: &quot;071a2783-f752-42d9-bcfc-44ddc7eb923d&quot;, reason: nil, reason_description: nil, scope: &quot;&quot;, signed_at: #DateTime&lt;2019-01-20 12:24:36.442837Z&gt;, start_date: ~D[2019-01-20], status: &quot;active&quot;, updated_at: #DateTime&lt;2019-01-30 12:24:36.455185Z&gt;, updated_by: &quot;8dac0fc6-04fd-4e62-9711-a85c0a42992d&quot; } }"},{"ref":"OPS.Rpc.html#update_medication_dispense/2","title":"OPS.Rpc.update_medication_dispense/2","module":"OPS.Rpc","type":"function","doc":"Update medication dispense Examples iex&gt; OPS.Rpc.update_medication_dispense( &quot;18e9ff3c-be22-4785-99b7-a4408da2c0a4&quot;, %{ status: &quot;PROCESSED&quot;, updated_by: &quot;a5250c22-30b6-4921-a7e6-21fe02a2e6aa&quot; } ) {:ok, %{ details: [], dispensed_at: ~D[2019-04-22], dispensed_by: &quot;John Doe0&quot;, division_id: &quot;8c27163e-75d4-43fc-80b0-ed6f185d1653&quot;, id: &quot;18e9ff3c-be22-4785-99b7-a4408da2c0a4&quot;, inserted_at: #DateTime&lt;2019-04-22 07:26:25Z&gt;, inserted_by: &quot;a3434fa9-814c-49b2-b6ef-1e3213c7a215&quot;, is_active: true, legal_entity_id: &quot;40e526fd-67f3-47d0-9f1a-acb631bf65ae&quot;, medical_program_id: &quot;541abd53-e1e3-42ab-8290-ab967463c44f&quot;, medication_request: %{ category: &quot;community&quot;, context: %{ &quot;identifier&quot; =&gt; %{ &quot;type&quot; =&gt; %{ &quot;coding&quot; =&gt; [ %{&quot;code&quot; =&gt; &quot;encounter&quot;, &quot;system&quot; =&gt; &quot;eHealth/resources&quot;} ] }, &quot;value&quot; =&gt; &quot;0f15b39c-3db0-460f-9edc-3bf6abed9a25&quot; } }, created_at: ~D[2019-04-22], dispense_valid_from: ~D[2019-04-22], dispense_valid_to: ~D[2019-04-22], division_id: &quot;b28ad7f7-0e9a-4a04-8d06-0da88be44e85&quot;, dosage_instruction: [ %{ &quot;additional_instruction&quot; =&gt; [ %{ &quot;coding&quot; =&gt; [ %{ &quot;code&quot; =&gt; &quot;311504000&quot;, &quot;system&quot; =&gt; &quot;eHealth/SNOMED/additional_dosage_instructions&quot; } ] } ], &quot;as_needed_boolean&quot; =&gt; true, &quot;dose_and_rate&quot; =&gt; %{ &quot;dose_range&quot; =&gt; %{ &quot;high&quot; =&gt; %{ &quot;code&quot; =&gt; &quot;mg&quot;, &quot;comparator&quot; =&gt; &quot;&gt;&quot;, &quot;system&quot; =&gt; &quot;eHealth/units&quot;, &quot;unit&quot; =&gt; &quot;mg&quot;, &quot;value&quot; =&gt; 13 }, &quot;low&quot; =&gt; %{ &quot;code&quot; =&gt; &quot;mg&quot;, &quot;comparator&quot; =&gt; &quot;&gt;&quot;, &quot;system&quot; =&gt; &quot;eHealth/units&quot;, &quot;unit&quot; =&gt; &quot;mg&quot;, &quot;value&quot; =&gt; 13 } }, &quot;rate_ratio&quot; =&gt; %{ &quot;denominator&quot; =&gt; %{ &quot;code&quot; =&gt; &quot;mg&quot;, &quot;comparator&quot; =&gt; &quot;&gt;&quot;, &quot;system&quot; =&gt; &quot;eHealth/units&quot;, &quot;unit&quot; =&gt; &quot;mg&quot;, &quot;value&quot; =&gt; 13 }, &quot;numerator&quot; =&gt; %{ &quot;code&quot; =&gt; &quot;mg&quot;, &quot;comparator&quot; =&gt; &quot;&gt;&quot;, &quot;system&quot; =&gt; &quot;eHealth/units&quot;, &quot;unit&quot; =&gt; &quot;mg&quot;, &quot;value&quot; =&gt; 13 } }, &quot;type&quot; =&gt; %{ &quot;coding&quot; =&gt; [ %{&quot;code&quot; =&gt; &quot;&#39;ordered&#39;&quot;, &quot;system&quot; =&gt; &quot;eHealth/dose_and_rate&quot;} ] } }, &quot;max_dose_per_administration&quot; =&gt; %{ &quot;code&quot; =&gt; &quot;mg&quot;, &quot;system&quot; =&gt; &quot;eHealth/units&quot;, &quot;unit&quot; =&gt; &quot;mg&quot;, &quot;value&quot; =&gt; 13 }, &quot;max_dose_per_lifetime&quot; =&gt; %{ &quot;code&quot; =&gt; &quot;mg&quot;, &quot;system&quot; =&gt; &quot;eHealth/units&quot;, &quot;unit&quot; =&gt; &quot;mg&quot;, &quot;value&quot; =&gt; 13 }, &quot;max_dose_per_period&quot; =&gt; %{ &quot;denominator&quot; =&gt; %{ &quot;code&quot; =&gt; &quot;mg&quot;, &quot;comparator&quot; =&gt; &quot;&gt;&quot;, &quot;system&quot; =&gt; &quot;eHealth/units&quot;, &quot;unit&quot; =&gt; &quot;mg&quot;, &quot;value&quot; =&gt; 13 }, &quot;numerator&quot; =&gt; %{ &quot;code&quot; =&gt; &quot;mg&quot;, &quot;comparator&quot; =&gt; &quot;&gt;&quot;, &quot;system&quot; =&gt; &quot;eHealth/units&quot;, &quot;unit&quot; =&gt; &quot;mg&quot;, &quot;value&quot; =&gt; 13 } }, &quot;method&quot; =&gt; %{ &quot;coding&quot; =&gt; [ %{ &quot;code&quot; =&gt; &quot;419747000&quot;, &quot;system&quot; =&gt; &quot;eHealth/SNOMED/administration_methods&quot; } ] }, &quot;patient_instruction&quot; =&gt; &quot;0.25mg PO every 6-12 hours as needed for menses from Jan 15-20, 2015. Do not exceed more than 4mg per day&quot;, &quot;route&quot; =&gt; %{ &quot;coding&quot; =&gt; [ %{&quot;code&quot; =&gt; &quot;46713006&quot;, &quot;system&quot; =&gt; &quot;eHealth/SNOMED/route_codes&quot;} ] }, &quot;sequence&quot; =&gt; 1, &quot;site&quot; =&gt; %{ &quot;coding&quot; =&gt; [ %{ &quot;code&quot; =&gt; &quot;344001&quot;, &quot;system&quot; =&gt; &quot;eHealth/SNOMED/anatomical_structure_administration_site_codes&quot; } ] }, &quot;text&quot; =&gt; &quot;0.25mg PO every 6-12 hours as needed for menses from Jan 15-20, 2015. Do not exceed more than 4mg per day&quot;, &quot;timing&quot; =&gt; %{ &quot;code&quot; =&gt; %{ &quot;coding&quot; =&gt; [ %{&quot;code&quot; =&gt; &quot;patient&quot;, &quot;system&quot; =&gt; &quot;eHealth/timing_abbreviation&quot;} ] }, &quot;event&quot; =&gt; [&quot;2017-04-20T19:14:13Z&quot;], &quot;repeat&quot; =&gt; %{ &quot;bounds_duration&quot; =&gt; %{ &quot;code&quot; =&gt; &quot;d&quot;, &quot;system&quot; =&gt; &quot;http://unitsofmeasure.org&quot;, &quot;unit&quot; =&gt; &quot;days&quot;, &quot;value&quot; =&gt; 10 }, &quot;count&quot; =&gt; 2, &quot;count_max&quot; =&gt; 4, &quot;day_of_week&quot; =&gt; [&quot;mon&quot;], &quot;duration&quot; =&gt; 4, &quot;duration_max&quot; =&gt; 6, &quot;duration_unit&quot; =&gt; &quot;d&quot;, &quot;frequency&quot; =&gt; 1, &quot;frequency_max&quot; =&gt; 2, &quot;offset&quot; =&gt; 4, &quot;period&quot; =&gt; 4, &quot;period_max&quot; =&gt; 6, &quot;period_unit&quot; =&gt; &quot;d&quot;, ... } } } ], employee_id: &quot;16099f5f-abcc-41ee-8a75-db78587d327d&quot;, ended_at: ~D[2019-04-22], id: &quot;4d499021-d752-4fcf-af57-bf01e26b5b13&quot;, inserted_at: #DateTime&lt;2019-04-22 07:26:25Z&gt;, inserted_by: &quot;a1f83b8b-1c91-4f72-b5fd-fed57dcb2023&quot;, intent: &quot;order&quot;, is_active: true, legal_entity_id: &quot;04704ab6-2a24-403c-ace3-5499a748d305&quot;, medical_program_id: nil, medication_id: &quot;b75d70b3-e2cd-40ed-8952-4e246582b027&quot;, medication_qty: 0.0, medication_request_requests_id: &quot;7a9871fc-3591-4713-84ac-ad104a8dde71&quot;, person_id: &quot;943b522d-2969-4ceb-aaf5-b5e0d3b28b18&quot;, reject_reason: nil, rejected_at: nil, rejected_by: nil, request_number: &quot;0.00897163491406282&quot;, started_at: ~D[2019-04-22], status: &quot;ACTIVE&quot;, updated_at: #DateTime&lt;2019-04-22 07:26:25Z&gt;, updated_by: &quot;99b7a856-19ff-4509-befc-e2309ba9369c&quot;, verification_code: nil }, medication_request_id: &quot;4d499021-d752-4fcf-af57-bf01e26b5b13&quot;, party_id: &quot;50d5978d-6663-45b2-952c-f991225d2261&quot;, payment_amount: nil, payment_id: &quot;c4de464c-9bd7-4a30-830a-7190ca94fe0c&quot;, status: &quot;PROCESSED&quot;, updated_at: #DateTime&lt;2019-04-22 07:26:25Z&gt;, updated_by: &quot;a5250c22-30b6-4921-a7e6-21fe02a2e6aa&quot; }}"},{"ref":"OPS.Rpc.html#update_medication_request/2","title":"OPS.Rpc.update_medication_request/2","module":"OPS.Rpc","type":"function","doc":"Update medication request Examples iex&gt; OPS.Rpc.update_medication_request(d7280856-66c7-40c7-b969-01c7bb30cfbd, %{ status: &quot;COMPLETED&quot;, updated_by: &quot;2cd42850-64d7-4e3b-9cea-c77d7982f6ec&quot; }) {:ok, %{ category: &quot;community&quot;, context: %{ &quot;identifier&quot; =&gt; %{ &quot;type&quot; =&gt; %{ &quot;coding&quot; =&gt; [%{&quot;code&quot; =&gt; &quot;encounter&quot;, &quot;system&quot; =&gt; &quot;eHealth/resources&quot;}] }, &quot;value&quot; =&gt; &quot;512b79dd-2ff3-4fcb-89e6-ff95bfd31575&quot; } }, created_at: ~D[2019-04-20], dispense_valid_from: ~D[2019-04-20], dispense_valid_to: ~D[2019-04-20], division_id: &quot;354cf351-318c-48c7-b4ad-db53ff95f827&quot;, dosage_instruction: [ %{ &quot;additional_instruction&quot; =&gt; [ %{ &quot;coding&quot; =&gt; [ %{ &quot;code&quot; =&gt; &quot;311504000&quot;, &quot;system&quot; =&gt; &quot;eHealth/SNOMED/additional_dosage_instructions&quot; } ] } ], &quot;as_needed_boolean&quot; =&gt; true, &quot;dose_and_rate&quot; =&gt; %{ &quot;dose_range&quot; =&gt; %{ &quot;high&quot; =&gt; %{ &quot;code&quot; =&gt; &quot;mg&quot;, &quot;comparator&quot; =&gt; &quot;&gt;&quot;, &quot;system&quot; =&gt; &quot;eHealth/units&quot;, &quot;unit&quot; =&gt; &quot;mg&quot;, &quot;value&quot; =&gt; 13 }, &quot;low&quot; =&gt; %{ &quot;code&quot; =&gt; &quot;mg&quot;, &quot;comparator&quot; =&gt; &quot;&gt;&quot;, &quot;system&quot; =&gt; &quot;eHealth/units&quot;, &quot;unit&quot; =&gt; &quot;mg&quot;, &quot;value&quot; =&gt; 13 } }, &quot;rate_ratio&quot; =&gt; %{ &quot;denominator&quot; =&gt; %{ &quot;code&quot; =&gt; &quot;mg&quot;, &quot;comparator&quot; =&gt; &quot;&gt;&quot;, &quot;system&quot; =&gt; &quot;eHealth/units&quot;, &quot;unit&quot; =&gt; &quot;mg&quot;, &quot;value&quot; =&gt; 13 }, &quot;numerator&quot; =&gt; %{ &quot;code&quot; =&gt; &quot;mg&quot;, &quot;comparator&quot; =&gt; &quot;&gt;&quot;, &quot;system&quot; =&gt; &quot;eHealth/units&quot;, &quot;unit&quot; =&gt; &quot;mg&quot;, &quot;value&quot; =&gt; 13 } }, &quot;type&quot; =&gt; %{ &quot;coding&quot; =&gt; [ %{&quot;code&quot; =&gt; &quot;&#39;ordered&#39;&quot;, &quot;system&quot; =&gt; &quot;eHealth/dose_and_rate&quot;} ] } }, &quot;max_dose_per_administration&quot; =&gt; %{ &quot;code&quot; =&gt; &quot;mg&quot;, &quot;system&quot; =&gt; &quot;eHealth/units&quot;, &quot;unit&quot; =&gt; &quot;mg&quot;, &quot;value&quot; =&gt; 13 }, &quot;max_dose_per_lifetime&quot; =&gt; %{ &quot;code&quot; =&gt; &quot;mg&quot;, &quot;system&quot; =&gt; &quot;eHealth/units&quot;, &quot;unit&quot; =&gt; &quot;mg&quot;, &quot;value&quot; =&gt; 13 }, &quot;max_dose_per_period&quot; =&gt; %{ &quot;denominator&quot; =&gt; %{ &quot;code&quot; =&gt; &quot;mg&quot;, &quot;comparator&quot; =&gt; &quot;&gt;&quot;, &quot;system&quot; =&gt; &quot;eHealth/units&quot;, &quot;unit&quot; =&gt; &quot;mg&quot;, &quot;value&quot; =&gt; 13 }, &quot;numerator&quot; =&gt; %{ &quot;code&quot; =&gt; &quot;mg&quot;, &quot;comparator&quot; =&gt; &quot;&gt;&quot;, &quot;system&quot; =&gt; &quot;eHealth/units&quot;, &quot;unit&quot; =&gt; &quot;mg&quot;, &quot;value&quot; =&gt; 13 } }, &quot;method&quot; =&gt; %{ &quot;coding&quot; =&gt; [ %{ &quot;code&quot; =&gt; &quot;419747000&quot;, &quot;system&quot; =&gt; &quot;eHealth/SNOMED/administration_methods&quot; } ] }, &quot;patient_instruction&quot; =&gt; &quot;0.25mg PO every 6-12 hours as needed for menses from Jan 15-20, 2015. Do not exceed more than 4mg per day&quot;, &quot;route&quot; =&gt; %{ &quot;coding&quot; =&gt; [ %{&quot;code&quot; =&gt; &quot;46713006&quot;, &quot;system&quot; =&gt; &quot;eHealth/SNOMED/route_codes&quot;} ] }, &quot;sequence&quot; =&gt; 1, &quot;site&quot; =&gt; %{ &quot;coding&quot; =&gt; [ %{ &quot;code&quot; =&gt; &quot;344001&quot;, &quot;system&quot; =&gt; &quot;eHealth/SNOMED/anatomical_structure_administration_site_codes&quot; } ] }, &quot;text&quot; =&gt; &quot;0.25mg PO every 6-12 hours as needed for menses from Jan 15-20, 2015. Do not exceed more than 4mg per day&quot;, &quot;timing&quot; =&gt; %{ &quot;code&quot; =&gt; %{ &quot;coding&quot; =&gt; [ %{&quot;code&quot; =&gt; &quot;patient&quot;, &quot;system&quot; =&gt; &quot;eHealth/timing_abbreviation&quot;} ] }, &quot;event&quot; =&gt; [&quot;2017-04-20T19:14:13Z&quot;], &quot;repeat&quot; =&gt; %{ &quot;bounds_duration&quot; =&gt; %{ &quot;code&quot; =&gt; &quot;d&quot;, &quot;system&quot; =&gt; &quot;http://unitsofmeasure.org&quot;, &quot;unit&quot; =&gt; &quot;days&quot;, &quot;value&quot; =&gt; 10 }, &quot;count&quot; =&gt; 2, &quot;count_max&quot; =&gt; 4, &quot;day_of_week&quot; =&gt; [&quot;mon&quot;], &quot;duration&quot; =&gt; 4, &quot;duration_max&quot; =&gt; 6, &quot;duration_unit&quot; =&gt; &quot;d&quot;, &quot;frequency&quot; =&gt; 1, &quot;frequency_max&quot; =&gt; 2, &quot;offset&quot; =&gt; 4, &quot;period&quot; =&gt; 4, &quot;period_max&quot; =&gt; 6, &quot;period_unit&quot; =&gt; &quot;d&quot;, &quot;time_of_day&quot; =&gt; [&quot;2017-04-20T19:14:13Z&quot;], &quot;when&quot; =&gt; [&quot;WAKE&quot;] } } } ], employee_id: &quot;8b761d3b-fd59-46af-9fdd-3752b0de35f3&quot;, ended_at: ~D[2019-04-20], id: &quot;d7280856-66c7-40c7-b969-01c7bb30cfbd&quot;, inserted_at: #DateTime&lt;2019-04-20 20:06:57Z&gt;, inserted_by: &quot;9242e638-9ffc-46fa-8c26-c1d5773ff0e5&quot;, intent: &quot;order&quot;, is_active: true, legal_entity_id: &quot;9875366c-850b-4927-8e6b-6a4266c71506&quot;, medical_program_id: nil, medication_id: &quot;458c82c7-0597-422a-bc1e-7f726c1ad614&quot;, medication_qty: 0.0, medication_request_requests_id: &quot;527f9ab6-21da-4d17-892a-dfc91ade5928&quot;, person_id: &quot;149184bf-4ddc-4856-8ba0-1ee573352afb&quot;, reject_reason: nil, rejected_at: nil, rejected_by: nil, request_number: &quot;0.8005479829613573&quot;, started_at: ~D[2019-04-20], status: &quot;COMPLETED&quot;, updated_at: #DateTime&lt;2019-04-20 20:06:58Z&gt;, updated_by: &quot;2cd42850-64d7-4e3b-9cea-c77d7982f6ec&quot;, verification_code: nil }}"},{"ref":"OPS.Rpc.html#t:declaration/0","title":"OPS.Rpc.declaration/0","module":"OPS.Rpc","type":"type","doc":""},{"ref":"OPS.Rpc.html#t:error/0","title":"OPS.Rpc.error/0","module":"OPS.Rpc","type":"type","doc":""},{"ref":"OPS.Rpc.html#t:errors/0","title":"OPS.Rpc.errors/0","module":"OPS.Rpc","type":"type","doc":""},{"ref":"OPS.Rpc.html#t:medication_dispense/0","title":"OPS.Rpc.medication_dispense/0","module":"OPS.Rpc","type":"type","doc":""},{"ref":"OPS.Rpc.html#t:medication_request/0","title":"OPS.Rpc.medication_request/0","module":"OPS.Rpc","type":"type","doc":""},{"ref":"OPS.Rpc.html#t:page_medication_dispenses/0","title":"OPS.Rpc.page_medication_dispenses/0","module":"OPS.Rpc","type":"type","doc":""},{"ref":"OPS.Rpc.html#t:page_medication_requests/0","title":"OPS.Rpc.page_medication_requests/0","module":"OPS.Rpc","type":"type","doc":""},{"ref":"OPS.Rpc.html#t:validation_changeset_error/0","title":"OPS.Rpc.validation_changeset_error/0","module":"OPS.Rpc","type":"type","doc":""}]